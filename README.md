## Rank A 課題提出

### 公開サイト

https://rank-a.vercel.app/home

### １．主要技術

- フロントエンド：Next.js(App Router,TypeScript,React 19),JWT(localStorageで管理)
- バックエンド：Next.js(API Route),Prisma,JWT,Zod
- データベース：supabase

### ２．概説

　いただいた仕様書に沿って開発するとともに、全体的な調和や使い勝手を考慮してエンジニアブログを完成させました。この際、仕様書のphase2に記載の各種の機能（ブックマーク機能や、回答・コメントの通知システムなど）を実現するべく、当方でデータモデルを新設するなどして開発をしました。

### ３．データモデル

・bookmark  
・VoteQuestion（質問のいいね機能を実現）  
・Notification  
を新設。  
　Questionモデルではsortやfilter機能を実現するため、score,answerCount,upvoteCountのフィールドを追加しました。これらのフィールドはgithub/workflowで1日2回スケジュール更新されます。

### ４．ヘッダーのナビゲーションメニュー

- トップページ（＝新規質問一覧）  
  ログイン後は、新規質問一覧、人気質問一覧、プロフィールへのリンクが表示。
- 質問詳細ページ  
  ログイン後は、ＴＯＰに戻る、プロフィールへのリンクが表示。
- プロフィールページ  
  ログイン前は、プロフィール、質問履歴、コメント履歴へのリンクが表示。  
  ログイン後は、ブックマーク、下書き一覧がさらに表示。編集画面への移行ボタンあり。

### ５．その他ページ遷移

　左上のロゴからはトップページに遷移。右上の円形ユーザーアイコンや質問・回答カード内の円形アイコンからは、ユーザプロフィール画面に遷移。

### ６．質問詳細ページ

　質問・回答・コメントが表示されます。コメントは、質問・回答に付与できます。  
　これらの編集削除については、無制限に許容すると掲示板秩序が崩れる可能性があるため、下記のようなコンセプトで機能を設けています。

- 質問：下書き機能があるため公開後の編集削除は不可。
- 回答：いいね、コメントがない状態で編集削除が可能。
- コメント：いつでも削除可。

   <img src="/public/detail.png" />

### ７．いいね機能

いいね、と、よくないね、を設けています。
これらの投票は、質問者・回答者の本人はできないようにしています。
また回答は、いいね数が多い順に整列配置されるように実装しました。

### ８．ベストアンサー機能

　質問者がベストアンサーを設定すると、「解決済み」の質問となります。
questionカードがピンク色に表示され、ベストアンサーに設定された回答は一番上位に配置されます。

   <img src="/public/bestAnswered.png" />

### ９．回答・コメントの通知システム

　ログインユーザのプロフィール画面から移行可能な「質問履歴」の画面にて実装しています。「新規回答・コメントあり」の質問カードのリンクを踏むことで、「確認済み」となります。

   <img src="/public/remind-feature.png" />

### １０．フィルタ

　トップ画面からのフィルターは、ログイン後に、「自分の質問」「ブックマーク済みの質問」「回答無しの質問」を利用できます。

### １１．不具合の可能性

　フィルタの組み合わせ適用により、検索の不具合が生じる可能性があります。当方でも検証して予防に努めておりますが、検証漏れの可能性があるためご容赦ください。
　supabaseの不具合によりユーザアイコン画像が消失する可能性があります。特にレスポンシブ対応開発時に発生した現象であり既に改善を施しましたが、今後の発生の可能性がゼロではないためご容赦ください。
　
